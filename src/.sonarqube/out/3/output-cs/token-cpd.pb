Ô
BC:\_workspace\github\mixcore\mix.core\src\Mix.Cms.Hub\PortalHub.cs
	namespace 	
Mix
 
. 
Cms 
. 
Hub 
{ 
public		 

class		 
	PortalHub		 
:		 
BaseSignalRHub		 *
{

 
public 
async 
Task 
SendMessage %
(% &
string& ,
user- 1
,1 2
string3 9
message: A
)A B
{ 	
await 
Clients 
. 
All 
. 
	SendAsync '
(' (
$str( 8
,8 9
user: >
,> ?
message@ G
)G H
;H I
} 	
public 
Task 
SendMessageToCaller '
(' (
string( .
message/ 6
)6 7
{ 	
return 
Clients 
. 
Caller !
.! "
	SendAsync" +
(+ ,
$str, <
,< =
message> E
)E F
;F G
} 	
public 
Task 
SendMessageToGroups '
(' (
string( .
message/ 6
)6 7
{ 	
List 
< 
string 
> 
groups 
=  !
new" %
List& *
<* +
string+ 1
>1 2
(2 3
)3 4
{5 6
$str7 F
}G H
;H I
return 
Clients 
. 
Groups !
(! "
groups" (
)( )
.) *
	SendAsync* 3
(3 4
$str4 D
,D E
messageF M
)M N
;N O
} 	
public 
override 
async 
Task "
OnConnectedAsync# 3
(3 4
)4 5
{ 	
await 
Groups 
. 
AddToGroupAsync (
(( )
Context) 0
.0 1
ConnectionId1 =
,= >
$str? N
)N O
;O P
await 
base 
. 
OnConnectedAsync '
(' (
)( )
;) *
} 	
public!! 
override!! 
async!! 
Task!! "
OnDisconnectedAsync!!# 6
(!!6 7
	Exception!!7 @
	exception!!A J
)!!J K
{"" 	
await## 
Groups## 
.##  
RemoveFromGroupAsync## -
(##- .
Context##. 5
.##5 6
ConnectionId##6 B
,##B C
$str##D S
)##S T
;##T U
await$$ 
base$$ 
.$$ 
OnDisconnectedAsync$$ *
($$* +
	exception$$+ 4
)$$4 5
;$$5 6
}%% 	
}&& 
}'' 