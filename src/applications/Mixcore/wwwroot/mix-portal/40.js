"use strict";(self.webpackChunkmix_portal=self.webpackChunkmix_portal||[]).push([[40],{6040:(C,m,r)=>{r.r(m),r.d(m,{PortalLayoutComponent:()=>v});var t=r(5e3),p=r(5787),n=r(255),l=r(2118),h=r(1163);const u=["creationTemplate"];function d(a,c){1&a&&t.\u0275\u0275element(0,"mix-universal-search")}function g(a,c){1&a&&t.\u0275\u0275element(0,"mix-tab-control-dialog")}function _(a,c){if(1&a&&t.\u0275\u0275element(0,"mix-creation-dialog",8),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("type",e.createMode)}}let v=(()=>{class a{constructor(e,i,s,o,w){this.dialogService=e,this.injector=i,this.router=s,this.tabControl=o,this.sidebarControl=w,this.isShowUniversalSearch=!1,this.isShowTab=!1,this.createMode="Page",this.menuItems=[{id:0,title:"Universal Search (F2)",icon:"search",position:n.sS.Top,hideDetail:!0,action:()=>this.toggleUniversalSearch(),detail:[]},{id:1,title:"Dashboard",icon:"smart-home",position:n.sS.Top,detail:[{title:"View Dashboard",icon:"list-numbers",action:()=>this.navigate("/portal/dashboard")}],action:()=>this.navigate("/portal/dashboard")},{id:3,title:"Posts",icon:"news",position:n.sS.Top,detail:[{title:"New post",icon:"plus",action:()=>this.createNew("Post")},{title:"Posts",icon:"list-numbers",action:()=>this.navigate("/portal/list-post")}],action:()=>this.navigate("/portal/list-post")},{id:4,title:"Pages",icon:"file-horizontal",position:n.sS.Top,detail:[{title:"New page",icon:"plus",action:()=>this.createNew("Page")},{title:"Pages",icon:"list-numbers",action:()=>this.navigate("/portal/list-page")}],action:()=>this.navigate("/portal/list-page")},{id:5,title:"Modules",icon:"components",position:n.sS.Top,detail:[{title:"New module",icon:"plus",action:()=>this.createNew("Module")},{title:"Modules",icon:"components",action:()=>this.navigate("/portal/list-module")}],action:()=>this.navigate("/portal/list-module")},{id:6,title:"Databases",icon:"stack2",position:n.sS.Top,detail:[{title:"Databases",icon:"stack2",action:()=>this.navigate("/portal/list-database")}],action:()=>this.navigate("/portal/list-database")},{id:7,title:"Tags",icon:"tags",position:n.sS.Top,detail:[{title:"New tag",icon:"plus",action:()=>this.createNew("Post")},{title:"Tags",icon:"tags",action:()=>this.navigate("/portal/list-module")}],action:()=>this.navigate("/portal/list-module")},{id:8,title:"Medias",icon:"photo",position:n.sS.Top,detail:[{title:"New media",icon:"plus",action:()=>this.createNew("Post")},{title:"Medias",icon:"photo",action:()=>this.navigate("/portal/list-module")}],action:()=>this.navigate("/portal/list-module")},{id:9,title:"Users",icon:"users",position:n.sS.Top,detail:[{title:"New user",icon:"plus",action:()=>this.createNew("Post")},{title:"Users",icon:"users",action:()=>this.navigate("/portal/list-module")},{title:"Roles",icon:"user-exclamation",action:()=>this.navigate("/portal/list-role")},{title:"Permissions",icon:"shield-lock",action:()=>this.navigate("/portal/list-permission")}],action:()=>this.navigate("/portal/list-module")},{id:10,title:"Themes",icon:"layout",position:n.sS.Top,detail:[{title:"New theme",icon:"plus",action:()=>this.createNew("Post")},{title:"Themes",icon:"layout",action:()=>this.navigate("/portal/list-theme")},{title:"Mix Market",icon:"shopping-cart",action:()=>this.navigate("/portal/market")},{title:"Site Navigation",icon:"arrow-ramp-right",action:()=>this.navigate("/portal/market")},{title:"Modules",icon:"components",action:()=>this.navigate("/portal/list-module")},{title:"Mix Databases",icon:"database",action:()=>this.navigate("/portal/list-database")}],action:()=>this.navigate("/portal/list-theme")},{id:11,title:"Settings",icon:"settings",position:n.sS.Bottom,detail:[{title:"Tenants",icon:"sitemap"},{title:"Global Setting",icon:"adjustments-horizontal"},{title:"Local Setting",icon:"tool"},{title:"Automation",icon:"settings-automation"},{title:"Languages",icon:"world"},{title:"Localize",icon:"language"},{title:"Files",icon:"file"}],action:()=>this.navigate("/portal/list-module")}]}showSearch(){this.toggleUniversalSearch()}new(){this.createNew("Post")}tab(e){e.preventDefault(),this.toggleTabControl(!0)}tabAlt(e){e.preventDefault(),this.toggleTabControl(!1)}createNew(e){this.createMode=e,this.sidebarControl.show(this.createTemplate)}navigate(e){this.router.navigateByUrl(e)}toggleUniversalSearch(){this.isShowUniversalSearch=!this.isShowUniversalSearch}toggleTabControl(e){this.isShowTab&&e&&this.tabControl.nextTab(),this.isShowTab=e}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(h.RO),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(p.F0),t.\u0275\u0275directiveInject(l.VG),t.\u0275\u0275directiveInject(l.jY))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["mix-portal-layout"]],viewQuery:function(e,i){if(1&e&&t.\u0275\u0275viewQuery(u,5),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.createTemplate=s.first)}},hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("keydown.f2",function(o){return i.showSearch(o)},!1,t.\u0275\u0275resolveWindow)("keydown.f3",function(o){return i.new(o)},!1,t.\u0275\u0275resolveWindow)("keydown.alt.z",function(o){return i.tab(o)},!1,t.\u0275\u0275resolveWindow)("keyup.alt",function(o){return i.tabAlt(o)},!1,t.\u0275\u0275resolveWindow)},standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:14,vars:3,consts:[[1,"cms-portal-container"],[3,"menuItems"],[1,"cms-portal-container__workspace"],[1,"cms-portal-container__main-workspace"],["ngProjectAs","tuiOverContent",5,["tuiOverContent"]],[1,"cms-portal-container__chat-bubble"],[3,"tuiDialog","tuiDialogChange"],["creationTemplate",""],[3,"type"]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mix-side-menu",1),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275element(3,"mix-header-menu"),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275element(5,"router-outlet"),t.\u0275\u0275elementContainerStart(6,4),t.\u0275\u0275element(7,"mix-portal-sidebar-host"),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",5),t.\u0275\u0275element(9,"mix-chat-box"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(10,d,1,0,"ng-template",6),t.\u0275\u0275listener("tuiDialogChange",function(o){return i.isShowUniversalSearch=o}),t.\u0275\u0275template(11,g,1,0,"ng-template",6),t.\u0275\u0275listener("tuiDialogChange",function(o){return i.isShowTab=o}),t.\u0275\u0275template(12,_,1,1,"ng-template",null,7,t.\u0275\u0275templateRefExtractor)),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("menuItems",i.menuItems),t.\u0275\u0275advance(9),t.\u0275\u0275property("tuiDialog",i.isShowUniversalSearch),t.\u0275\u0275advance(1),t.\u0275\u0275property("tuiDialog",i.isShowTab))},dependencies:[l.Xb,p.Bz,p.lC,l.Gn,h.iu,l.V3,l.jI,l.R2,l.nR,l.Ci,l.Ld],styles:[".cms-portal-container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;position:relative}.cms-portal-container__workspace[_ngcontent-%COMP%]{width:100%;border-left:1px solid var(--tui-base-04)}.cms-portal-container__main-workspace[_ngcontent-%COMP%]{width:100%;height:calc(100vh - var(--mix-header-height));box-sizing:border-box;position:relative}.cms-portal-container__chat-bubble[_ngcontent-%COMP%]{position:absolute;bottom:0px;right:10px}"]}),a})()}}]);