"use strict";(self.webpackChunkmix_portal=self.webpackChunkmix_portal||[]).push([[110],{3110:(E,g,o)=>{o.r(g),o.d(g,{ListTemplateComponent:()=>O});var s=o(255),a=o(2118),p=o(6580),c=o(1135),_=o(3900),e=o(5e3),m=o(5787),r=o(9808),u=o(8276),h=o(9791),v=o(9986);function x(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const n=e.\u0275\u0275nextContext().ngIf;let t;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("(",null!==(t=n.pagingData.total)&&void 0!==t?t:0,")")}}function C(i,l){1&i&&e.\u0275\u0275text(0," loading ")}function y(i,l){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275listener("click",function(){const f=e.\u0275\u0275restoreView(n).$implicit,b=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(b.fileClick(f))}),e.\u0275\u0275elementStart(1,"div",15),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",16),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd()()}if(2&i){const n=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",n.fileName,"",n.extension," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,n.createdDateTime||n.lastModified)," ")}}function I(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275template(1,y,6,5,"div",12),e.\u0275\u0275elementStart(2,"div")(3,"a",13),e.\u0275\u0275text(4,"+ Add item"),e.\u0275\u0275elementEnd()()()),2&i){const n=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.items)}}const F=function(i){return{"--open":i}};function M(i,l){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tui-accordion-item",1),e.\u0275\u0275listener("openChange",function(d){e.\u0275\u0275restoreView(n);const f=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(f.open=d)}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275element(4,"tui-svg",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"i-tabler",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275text(7),e.\u0275\u0275template(8,x,2,1,"span",7),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,C,1,0,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"div",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,I,5,1,"ng-template",10),e.\u0275\u0275elementEnd()}if(2&i){const n=e.\u0275\u0275reference(11),t=e.\u0275\u0275nextContext();e.\u0275\u0275property("open",t.open)("borders",null)("disabled",!!e.\u0275\u0275pipeBind1(1,8,t.loading$))("size","s"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,F,t.open)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.folderType," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,10,t.loading$))("ngIfElse",n)}}let T=(()=>{class i{constructor(n,t,d){this.templateApi=n,this.route=t,this.activatedRoute=d,this.open=!1,this.themeId=1,this.folderType=s.ur.Masters,this.loading$=new c.X(!0),this.result$=new c.X({items:[],pagingData:{pageIndex:0}}),this.defaultQuery$=new c.X({themeId:this.themeId,folderType:s.ur.Layouts,pageIndex:0,pageSize:100})}ngOnInit(){this.defaultQuery$.pipe((0,_.w)(n=>{const t=Object.assign(Object.assign({},n),{themeId:this.themeId,folderType:this.folderType});return this.loading$.next(!0),this.templateApi.getTemplates(t)})).subscribe(n=>{this.loading$.next(!1),this.result$.next(n)})}fileClick(n){this.route.navigate(["template",n.id],{relativeTo:this.activatedRoute.parent})}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(a.k3),e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(m.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mix-folder-file"]],inputs:{themeId:"themeId",folderType:"folderType"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:3,consts:[["class","folder-file",3,"open","borders","disabled","size","openChange",4,"ngIf"],[1,"folder-file",3,"open","borders","disabled","size","openChange"],[1,"folder-file__folder-header"],[1,"toggle-icon",3,"ngClass"],["src","tuiIconChevronRight"],["name","file-import",1,"icon"],[1,"title"],[4,"ngIf","ngIfElse"],["loading",""],[1,"separator"],["tuiAccordionItemContent",""],[1,"folder-file__file-list"],["class","folder-file__file",3,"click",4,"ngFor","ngForOf"],["tuiLink",""],[1,"folder-file__file",3,"click"],[1,"name"],[1,"date-modified"]],template:function(n,t){1&n&&(e.\u0275\u0275template(0,M,14,14,"tui-accordion-item",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,t.result$))},dependencies:[a.Gn,r.mk,r.sg,r.O5,u.P,h.V,p.Kc,p.dv,v.bz,r.Ov,r.uU,p.iK],styles:['.folder-file[_ngcontent-%COMP%]{margin-bottom:10px}.folder-file__folder-header[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.folder-file__folder-header[_ngcontent-%COMP%]   i-tabler[_ngcontent-%COMP%]{margin-right:10px}.folder-file__folder-header[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{color:var(--tui-primary);transition:all .1s ease-in}.folder-file__folder-header[_ngcontent-%COMP%]   .toggle-icon.--open[_ngcontent-%COMP%]{transform:rotate(90deg)}.folder-file__folder-header[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:block;content:"";height:1px;width:100%;margin-left:10px;background-color:var(--tui-base-03)}.folder-file__file-list[_ngcontent-%COMP%]{padding-left:40px}.folder-file__file[_ngcontent-%COMP%]{position:relative;margin-bottom:13px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}.folder-file__file[_ngcontent-%COMP%]:hover{color:var(--tui-primary)}.folder-file__file[_ngcontent-%COMP%]:before{display:block;content:"";position:absolute;border-bottom:1px dotted black;width:10px;height:1px;left:-15px;top:50%}.folder-file__file[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;height:100%;border-right:1px dashed black;left:-17px;top:-50%}'],changeDetection:0}),i})(),O=(()=>{class i{constructor(n){var t;this.activatedRoute=n,this.themeId=1,this.FOLDER=s.ur,this.themeId=null===(t=this.activatedRoute.snapshot)||void 0===t?void 0:t.params.themeId}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(m.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["mix-list-template"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:12,vars:14,consts:[[1,"mix-workspace-container","list-template"],[1,"mix-workspace-container__header"],[1,"mix-workspace-container__container"],[1,"mix-workspace-container__main-workspace","list-template__file-container"],[3,"folderType","themeId"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"mix-toolbar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2)(4,"div",3),e.\u0275\u0275element(5,"mix-folder-file",4)(6,"mix-folder-file",4)(7,"mix-folder-file",4)(8,"mix-folder-file",4)(9,"mix-folder-file",4)(10,"mix-folder-file",4)(11,"mix-folder-file",4),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("folderType",t.FOLDER.Layouts)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Masters)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Pages)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Posts)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Modules)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Widgets)("themeId",t.themeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("folderType",t.FOLDER.Edms)("themeId",t.themeId))},dependencies:[a.Gn,a.kl,T],styles:[".list-template__file-container[_ngcontent-%COMP%]{padding:20px 0}"]}),i})()}}]);